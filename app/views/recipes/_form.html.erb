<%= form_with model: @recipe do |f| %>

  <% if @recipe.errors.any? %>
    <div class="errors">
      <h3><%= pluralize(@recipe.errors.count, "件のエラー") %>があります</h3>
      <ul>
        <% @recipe.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= f.label :image, "画像" %><br>
    <%= f.file_field :image %>
  </div>

  <div>
    <%= f.label :title, "レシピ名" %><br>
    <%= f.text_field :title %>
  </div>

  <div>
    <%= f.label :body, "作り方" %><br>
    <%= f.text_area :body %>
  </div>

  <div class="mb-3">
    <%= f.label :tag_names, "食材タグ（カンマ区切り）", class: "form-label" %>
    <%= f.text_field :tag_names,
        value: @recipe.tags.pluck(:name).join(", "),
        placeholder: "例：卵, キャベツ, 鶏むね肉",
        class: "form-control" %>
  </div>

  <%= f.submit "保存する" %>
<% end %>