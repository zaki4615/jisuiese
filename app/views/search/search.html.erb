<h1>検索結果</h1>

<p class="text-muted">
  検索対象：<%= @model %> ／ キーワード：<%= @keyword %>
</p>

<hr>

<% if @results.any? %>

  <% @results.each do |result| %>

    <% if @model == "recipe" %>
      <div class="card mb-3">
        <div class="card-body">

          <h5>
            <%= link_to result.title, recipe_path(result) %>
          </h5>

          <p class="text-muted small">
            投稿者：
            <%= link_to result.user.name, user_path(result.user) %>
          </p>

          <% if result.tags.any? %>
            <div class="mt-2">
              <% result.tags.each do |tag| %>
                <%= link_to "##{tag.name}",
                      search_path(model: "recipe", keyword: tag.name),
                      class: "badge bg-secondary me-1 text-decoration-none" %>
              <% end %>
            </div>
          <% end %>

        </div>
      </div>

    <% elsif @model == "user" %>
      <p>
        ユーザー名：
        <%= link_to result.name, user_path(result) %>
      </p>
    <% end %>

  <% end %>

<% else %>
  <p>一致するデータはありませんでした。</p>
<% end %>